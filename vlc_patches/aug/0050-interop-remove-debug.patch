From ab3a048c5c3a92bb3d31bfef1acc023cc0939ae6 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Hugo=20Beauz=C3=A9e-Luyssen?= <hugo@beauzee.fr>
Date: Mon, 9 May 2022 11:58:15 +0200
Subject: [PATCH 50/85] interop: remove debug

---
 modules/video_output/opengl/interop_emscripten.cpp | 6 ------
 1 file changed, 6 deletions(-)

diff --git a/modules/video_output/opengl/interop_emscripten.cpp b/modules/video_output/opengl/interop_emscripten.cpp
index 65d4c84f94..e9905ac1a3 100644
--- a/modules/video_output/opengl/interop_emscripten.cpp
+++ b/modules/video_output/opengl/interop_emscripten.cpp
@@ -126,10 +126,6 @@ EM_JS(void, initGlConvWorker, (int maxPictures), {
             return Module.glConv.lastFrame.frame;
         }
         let p = new Promise((resolve, reject) => {
-                  if (Module.glConv.frameResolver)
-                        {
-                            alert('Duplicated interop promise');
-                        }
             Module.glConv.frameResolver = resolve;
             Module.msgChannel.port1.postMessage({
                 'customCmd': 'sendFrame',
@@ -137,10 +133,8 @@ EM_JS(void, initGlConvWorker, (int maxPictures), {
             });
 
         });
-        console.log('Waiting for frame ', pictureIdx, ' in interop');
         let frame = await p;
         Module.glConv.frameResolver = undefined;
-        console.log('Received frame ', pictureIdx, ' in interop');
         if (Module.glConv.lastFrame.frame)
             Module.glConv.lastFrame.frame.close();
         Module.glConv.lastFrame.frame = frame;
-- 
2.43.0

